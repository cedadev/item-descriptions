paths:
  - /badc/faam/data
collections:
  id: faam
facets:
  defaults:
    properties:
      general_data_type: aircraft
      permitted_use:
        - academic
        - educational
        - commercial
        - policy
        - personal
  extraction_methods:
    - name: regex
      description: "Extract facets and datetime from filepath"
      inputs:
        regex: '^\/(?:[^/]*/)(?P<platform>\w*)\/(?:[^/]*/){1}(?P<year>\d*)\/(?P<flight_number>\w\d{3})-(?P<month>\w+)-(?P<day>\d{2})'
      post_processors:
        - name: string_join
          inputs:
            key_list:
              - year
              - month
              - day
            delimiter: '-'
            output_key: datetime
        - name: isodate_processor
          inputs:
            date_keys:
              - datetime
  common_facets:
    - platform
    - flight_number
